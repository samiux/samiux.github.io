<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRIèº«ä½“åœ†åº¦æŒ‡æ•°è®¡ç®—å™¨</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: "PingFang SC", "Microsoft YaHei", "å¾®è½¯é›…é»‘", sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .description {
            font-size: 16px;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            padding: 0;
        }
        
        .input-section {
            flex: 1;
            min-width: 300px;
            padding: 30px;
            background-color: #f8fafc;
        }
        
        .result-section {
            flex: 1;
            min-width: 300px;
            padding: 30px;
            background-color: white;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .input-item {
            flex: 1;
            min-width: 120px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            background-color: white;
        }
        
        input:focus, select:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .radio-item input {
            width: auto;
        }
        
        button {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .result {
            margin-top: 20px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 10px;
            display: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .result h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 24px;
        }
        
        .bri-value {
            font-size: 42px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: #2c3e50;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .result-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .card {
            flex: 1;
            min-width: 120px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
        }
        
        .card-title {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 8px;
        }
        
        .card-value {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .interpretation {
            background: linear-gradient(135deg, #e8f4fc 0%, #d1e8ff 100%);
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            border-left: 4px solid #3498db;
        }
        
        .interpretation h3 {
            margin-bottom: 10px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .chart-container {
            margin-top: 25px;
            height: 200px;
        }
        
        .reference {
            margin-top: 25px;
            font-size: 14px;
            color: #7f8c8d;
            text-align: center;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .input-section, .result-section {
                padding: 20px;
            }
            
            h1 {
                font-size: 26px;
            }
            
            .bri-value {
                font-size: 36px;
            }
        }
        
        .risk-level {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            margin: 10px 0;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .low-risk {
            background-color: #e8f6f3;
            color: #27ae60;
        }
        
        .moderate-risk {
            background-color: #fef9e7;
            color: #f39c12;
        }
        
        .high-risk {
            background-color: #fdedec;
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>BRIèº«ä½“åœ†åº¦æŒ‡æ•°è®¡ç®—å™¨</h1>
            <p class="description">æ ¹æ®æ‚¨çš„èº«ä½“æµ‹é‡æ•°æ®è®¡ç®—èº«ä½“åœ†åº¦æŒ‡æ•°ï¼Œè¯„ä¼°å¥åº·çŠ¶å†µå’Œæ½œåœ¨é£é™©</p>
        </header>
        
        <div class="content">
            <div class="input-section">
                <div class="input-group">
                    <h2>åŸºæœ¬ä¿¡æ¯</h2>
                    <div class="input-row">
                        <div class="input-item">
                            <label for="age">å¹´é¾„</label>
                            <input type="number" id="age" min="1" max="120" placeholder="è¯·è¾“å…¥å¹´é¾„">
                        </div>
                        
                        <div class="input-item">
                            <label>æ€§åˆ«</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="male" name="gender" value="male">
                                    <label for="male">ç”·æ€§</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="female" name="gender" value="female">
                                    <label for="female">å¥³æ€§</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-item">
                            <label for="race">ç§æ—</label>
                            <select id="race">
                                <option value="">è¯·é€‰æ‹©ç§æ—</option>
                                <option value="asian">äºšæ´²äºº</option>
                                <option value="caucasian">ç™½ç§äºº</option>
                                <option value="african">éæ´²äºº</option>
                                <option value="hispanic">è¥¿ç­ç‰™è£”</option>
                                <option value="other">å…¶ä»–</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <h2>èº«ä½“æµ‹é‡</h2>
                    <div class="input-row">
                        <div class="input-item">
                            <label for="height">èº«é«˜ (cm)</label>
                            <input type="number" id="height" min="1" max="250" step="0.1" placeholder="è¯·è¾“å…¥èº«é«˜">
                        </div>
                        
                        <div class="input-item">
                            <label for="weight">ä½“é‡ (kg)</label>
                            <input type="number" id="weight" min="1" max="300" step="0.1" placeholder="è¯·è¾“å…¥ä½“é‡">
                        </div>
                    </div>
                    
                    <div class="input-row">
                        <div class="input-item">
                            <label for="waist">è…°å›´ (cm)</label>
                            <input type="number" id="waist" min="1" max="200" step="0.1" placeholder="è¯·è¾“å…¥è…°å›´">
                        </div>
                        
                        <div class="input-item">
                            <label for="hip">è‡€å›´ (cm)</label>
                            <input type="number" id="hip" min="1" max="200" step="0.1" placeholder="è¯·è¾“å…¥è‡€å›´">
                        </div>
                    </div>
                </div>
                
                <button id="calculate">è®¡ç®—BRIæŒ‡æ•°</button>
            </div>
            
            <div class="result-section">
                <div class="result" id="result">
                    <h2>æ‚¨çš„å¥åº·è¯„ä¼°ç»“æœ</h2>
                    <div class="bri-value" id="briValue">0.00</div>
                    <div id="riskLevel" class="risk-level low-risk">ä½é£é™©</div>
                    
                    <div class="result-cards">
                        <div class="card">
                            <div class="card-title">BMIæŒ‡æ•°</div>
                            <div class="card-value" id="bmiValue">0.0</div>
                        </div>
                        <div class="card">
                            <div class="card-title">è…°è‡€æ¯”</div>
                            <div class="card-value" id="whrValue">0.00</div>
                        </div>
                        <div class="card">
                            <div class="card-title">ç†æƒ³ä½“é‡</div>
                            <div class="card-value" id="idealWeight">0kg</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="healthChart"></canvas>
                    </div>
                    
                    <div class="interpretation">
                        <h3>ğŸ“Š ç»“æœè§£è¯»</h3>
                        <p id="interpretationText">æ ¹æ®æ‚¨çš„èº«ä½“æ•°æ®ï¼ŒBRIæŒ‡æ•°ä¸º...</p>
                    </div>
                </div>
                
                <div class="reference">
                    <p>BRIï¼ˆèº«ä½“åœ†åº¦æŒ‡æ•°ï¼‰æ˜¯ä¸€ç§è¯„ä¼°èº«ä½“å½¢æ€å’Œå¥åº·é£é™©çš„æŒ‡æ ‡ï¼Œç»¼åˆè€ƒè™‘äº†ä½“é‡ã€è…°å›´ã€è‡€å›´ã€èº«é«˜ã€å¹´é¾„ã€æ€§åˆ«å’Œç§æ—ç­‰å› ç´ ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('calculate').addEventListener('click', function() {
            // è·å–è¾“å…¥å€¼
            const weight = parseFloat(document.getElementById('weight').value);
            const waist = parseFloat(document.getElementById('waist').value);
            const hip = parseFloat(document.getElementById('hip').value);
            const height = parseFloat(document.getElementById('height').value);
            const age = parseInt(document.getElementById('age').value);
            const gender = document.querySelector('input[name="gender"]:checked');
            const race = document.getElementById('race').value;
            
            // éªŒè¯è¾“å…¥
            if (isNaN(weight) || isNaN(waist) || isNaN(hip) || isNaN(height) || isNaN(age) || 
                !gender || !race) {
                alert('è¯·å¡«å†™æ‰€æœ‰å­—æ®µ');
                return;
            }
            
            if (weight <= 0 || waist <= 0 || hip <= 0 || height <= 0 || age <= 0) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å€¼');
                return;
            }
            
            // è®¡ç®—BRI
            const bri = calculateBRI(weight, waist, hip, height, age, gender.value, race);
            
            // è®¡ç®—å…¶ä»–æŒ‡æ ‡
            const bmi = calculateBMI(weight, height);
            const whr = calculateWHR(waist, hip);
            const idealWeight = calculateIdealWeight(height, gender.value);
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('briValue').textContent = bri.toFixed(2);
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('whrValue').textContent = whr.toFixed(2);
            document.getElementById('idealWeight').textContent = idealWeight + 'kg';
            
            // æ˜¾ç¤ºé£é™©ç­‰çº§
            const riskLevel = getRiskLevel(bri, gender.value);
            const riskElement = document.getElementById('riskLevel');
            riskElement.textContent = riskLevel.text;
            riskElement.className = 'risk-level ' + riskLevel.class;
            
            document.getElementById('interpretationText').textContent = getInterpretation(bri, gender.value, bmi, whr);
            document.getElementById('result').style.display = 'block';
            
            // ç»˜åˆ¶å›¾è¡¨
            drawChart(bri, bmi, whr, gender.value);
        });
        
        function calculateBRI(weight, waist, hip, height, age, gender, race) {
            // BRIè®¡ç®—å…¬å¼ (åŸºäºè…°å›´ã€èº«é«˜ã€ä½“é‡å’Œå¹´é¾„)
            // æ³¨æ„ï¼šå®é™…BRIå…¬å¼å¯èƒ½éœ€è¦æ ¹æ®ç ”ç©¶æ–‡çŒ®è¿›è¡Œè°ƒæ•´
            
            // åŸºç¡€BRIè®¡ç®—ï¼ˆåŸºäºè…°å›´å’Œèº«é«˜ï¼‰
            let bri = (waist / (0.5 * height)) - 1;
            
            // æ ¹æ®ä½“é‡è°ƒæ•´
            bri += (weight / (height/100 * height/100)) * 0.01;
            
            // æ ¹æ®å¹´é¾„è°ƒæ•´
            if (age < 30) {
                bri *= 0.95;
            } else if (age > 50) {
                bri *= 1.05;
            }
            
            // æ ¹æ®æ€§åˆ«è°ƒæ•´
            if (gender === 'male') {
                bri *= 1.1;
            } else {
                bri *= 0.9;
            }
            
            // æ ¹æ®ç§æ—è°ƒæ•´ï¼ˆç¤ºä¾‹è°ƒæ•´ç³»æ•°ï¼‰
            const raceFactors = {
                'asian': 1.05,
                'caucasian': 1.0,
                'african': 0.95,
                'hispanic': 1.02,
                'other': 1.0
            };
            
            bri *= raceFactors[race] || 1.0;
            
            return Math.max(0, bri);
        }
        
        function calculateBMI(weight, height) {
            // BMI = ä½“é‡(kg) / èº«é«˜(m)^2
            const heightInMeters = height / 100;
            return weight / (heightInMeters * heightInMeters);
        }
        
        function calculateWHR(waist, hip) {
            // è…°è‡€æ¯” = è…°å›´ / è‡€å›´
            return waist / hip;
        }
        
        function calculateIdealWeight(height, gender) {
            // ç†æƒ³ä½“é‡è®¡ç®— (ç®€å•å…¬å¼)
            const heightInMeters = height / 100;
            if (gender === 'male') {
                return (heightInMeters * heightInMeters * 22).toFixed(1);
            } else {
                return (heightInMeters * heightInMeters * 21).toFixed(1);
            }
        }
        
        function getRiskLevel(bri, gender) {
            if (gender === 'male') {
                if (bri < 2.5) {
                    return { text: 'ä½é£é™©', class: 'low-risk' };
                } else if (bri >= 2.5 && bri < 3.5) {
                    return { text: 'ä¸­ç­‰é£é™©', class: 'moderate-risk' };
                } else {
                    return { text: 'é«˜é£é™©', class: 'high-risk' };
                }
            } else {
                if (bri < 2.0) {
                    return { text: 'ä½é£é™©', class: 'low-risk' };
                } else if (bri >= 2.0 && bri < 3.0) {
                    return { text: 'ä¸­ç­‰é£é™©', class: 'moderate-risk' };
                } else {
                    return { text: 'é«˜é£é™©', class: 'high-risk' };
                }
            }
        }
        
        function getInterpretation(bri, gender, bmi, whr) {
            let interpretation = '';
            
            // BRIè§£è¯»
            if (gender === 'male') {
                if (bri < 2.5) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°è¾ƒä½ï¼Œè¡¨ç¤ºèº«ä½“å½¢æ€è¾ƒä¸ºå¥åº·ã€‚ç»§ç»­ä¿æŒè‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯å’Œå‡è¡¡é¥®é£Ÿã€‚';
                } else if (bri >= 2.5 && bri < 3.5) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚å»ºè®®ä¿æŒå½“å‰ç”Ÿæ´»æ–¹å¼ï¼Œå®šæœŸç›‘æµ‹èº«ä½“å¥åº·æŒ‡æ ‡ã€‚';
                } else if (bri >= 3.5 && bri < 4.5) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°ç•¥é«˜ï¼Œå¯èƒ½å­˜åœ¨å¥åº·é£é™©ã€‚å»ºè®®å¢åŠ ä½“è‚²é”»ç‚¼ï¼Œæ”¹å–„é¥®é£Ÿä¹ æƒ¯ã€‚';
                } else {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°è¾ƒé«˜ï¼Œå­˜åœ¨æ˜æ˜¾çš„å¥åº·é£é™©ã€‚å»ºè®®å’¨è¯¢åŒ»ç”Ÿæˆ–è¥å…»å¸ˆï¼Œåˆ¶å®šå¥åº·ç®¡ç†è®¡åˆ’ã€‚';
                }
            } else {
                if (bri < 2.0) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°è¾ƒä½ï¼Œè¡¨ç¤ºèº«ä½“å½¢æ€è¾ƒä¸ºå¥åº·ã€‚ç»§ç»­ä¿æŒè‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯å’Œå‡è¡¡é¥®é£Ÿã€‚';
                } else if (bri >= 2.0 && bri < 3.0) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚å»ºè®®ä¿æŒå½“å‰ç”Ÿæ´»æ–¹å¼ï¼Œå®šæœŸç›‘æµ‹èº«ä½“å¥åº·æŒ‡æ ‡ã€‚';
                } else if (bri >= 3.0 && bri < 4.0) {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°ç•¥é«˜ï¼Œå¯èƒ½å­˜åœ¨å¥åº·é£é™©ã€‚å»ºè®®å¢åŠ ä½“è‚²é”»ç‚¼ï¼Œæ”¹å–„é¥®é£Ÿä¹ æƒ¯ã€‚';
                } else {
                    interpretation = 'æ‚¨çš„BRIæŒ‡æ•°è¾ƒé«˜ï¼Œå­˜åœ¨æ˜æ˜¾çš„å¥åº·é£é™©ã€‚å»ºè®®å’¨è¯¢åŒ»ç”Ÿæˆ–è¥å…»å¸ˆï¼Œåˆ¶å®šå¥åº·ç®¡ç†è®¡åˆ’ã€‚';
                }
            }
            
            // æ·»åŠ BMIè§£è¯»
            interpretation += '\n\næ‚¨çš„BMIæŒ‡æ•°ä¸º' + bmi.toFixed(1) + 'ã€‚';
            if (bmi < 18.5) {
                interpretation += 'å±äºä½“é‡è¿‡è½»èŒƒå›´ï¼Œå»ºè®®é€‚å½“å¢åŠ è¥å…»ã€‚';
            } else if (bmi >= 18.5 && bmi < 24) {
                interpretation += 'å±äºå¥åº·ä½“é‡èŒƒå›´ï¼Œç»§ç»­ä¿æŒã€‚';
            } else if (bmi >= 24 && bmi < 28) {
                interpretation += 'å±äºè¶…é‡èŒƒå›´ï¼Œå»ºè®®æ§åˆ¶é¥®é£Ÿå¹¶å¢åŠ è¿åŠ¨ã€‚';
            } else {
                interpretation += 'å±äºè‚¥èƒ–èŒƒå›´ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šæŒ‡å¯¼è¿›è¡Œä½“é‡ç®¡ç†ã€‚';
            }
            
            // æ·»åŠ è…°è‡€æ¯”è§£è¯»
            interpretation += '\n\næ‚¨çš„è…°è‡€æ¯”ä¸º' + whr.toFixed(2) + 'ã€‚';
            if (gender === 'male') {
                if (whr < 0.9) {
                    interpretation += 'å±äºå¥åº·èŒƒå›´ï¼Œç»§ç»­ä¿æŒã€‚';
                } else if (whr >= 0.9 && whr < 1.0) {
                    interpretation += 'ç•¥é«˜ï¼Œå»ºè®®å…³æ³¨è…¹éƒ¨è„‚è‚ªã€‚';
                } else {
                    interpretation += 'è¾ƒé«˜ï¼Œå­˜åœ¨å¥åº·é£é™©ï¼Œå»ºè®®é‡‡å–æªæ–½å‡å°‘è…¹éƒ¨è„‚è‚ªã€‚';
                }
            } else {
                if (whr < 0.8) {
                    interpretation += 'å±äºå¥åº·èŒƒå›´ï¼Œç»§ç»­ä¿æŒã€‚';
                } else if (whr >= 0.8 && whr < 0.85) {
                    interpretation += 'ç•¥é«˜ï¼Œå»ºè®®å…³æ³¨è…¹éƒ¨è„‚è‚ªã€‚';
                } else {
                    interpretation += 'è¾ƒé«˜ï¼Œå­˜åœ¨å¥åº·é£é™©ï¼Œå»ºè®®é‡‡å–æªæ–½å‡å°‘è…¹éƒ¨è„‚è‚ªã€‚';
                }
            }
            
            return interpretation;
        }
        
        function drawChart(bri, bmi, whr, gender) {
            const ctx = document.getElementById('healthChart').getContext('2d');
            
            // æ ¹æ®æ€§åˆ«è®¾ç½®å‚è€ƒå€¼
            const briReference = gender === 'male' ? 3.0 : 2.5;
            const whrReference = gender === 'male' ? 0.9 : 0.8;
            const bmiReference = 22;
            
            // é”€æ¯ç°æœ‰å›¾è¡¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            if (window.healthChartInstance) {
                window.healthChartInstance.destroy();
            }
            
            // åˆ›å»ºæ–°å›¾è¡¨
            window.healthChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['BRIæŒ‡æ•°', 'BMIæŒ‡æ•°', 'è…°è‡€æ¯”'],
                    datasets: [
                        {
                            label: 'æ‚¨çš„æ•°å€¼',
                            data: [
                                Math.min(bri, 5), // é™åˆ¶æœ€å¤§å€¼ä»¥ä¾¿å›¾è¡¨æ˜¾ç¤º
                                Math.min(bmi, 30), // é™åˆ¶æœ€å¤§å€¼ä»¥ä¾¿å›¾è¡¨æ˜¾ç¤º
                                Math.min(whr, 1.2) // é™åˆ¶æœ€å¤§å€¼ä»¥ä¾¿å›¾è¡¨æ˜¾ç¤º
                            ],
                            backgroundColor: 'rgba(52, 152, 219, 0.2)',
                            borderColor: 'rgba(52, 152, 219, 1)',
                            pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(52, 152, 219, 1)'
                        },
                        {
                            label: 'å‚è€ƒå€¼',
                            data: [briReference, bmiReference, whrReference],
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderColor: 'rgba(231, 76, 60, 0.5)',
                            pointBackgroundColor: 'rgba(231, 76, 60, 0.5)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(231, 76, 60, 0.5)',
                            borderDash: [5, 5]
                        }
                    ]
                },
                options: {
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: gender === 'male' ? 5 : 4
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    label += context.parsed.r.toFixed(2);
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
